<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/communityDefault}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap cdn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- bootstrap icon cdn -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <!-- fontawesome cdn -->
    <script src="https://kit.fontawesome.com/fa8d81743a.js" crossorigin="anonymous"></script>
    <!-- header css -->
    <link rel="stylesheet" href="/css/header.css">
    <!-- footer css -->
    <link rel="stylesheet" href="/css/footer.css">
    <!-- community css -->
    <link rel="stylesheet" href="/css/community/community.css">
    <title>게시판</title>
</head>
<body id="mainFrame" layout:fragment="content">
<section>
    <section>
        <div class="board container">
            
            <div class="board_top">
                <!-- 리스트 총 갯수 출력 -->
                <div>
                    <p>TOTAL <span th:text="${total}">0</span></p>
                </div>

                <!-- 검색창 -->
                <div>
                    <select name="search_select" id="">
                        <option value="title">제목</option> 
                        <option value="content">내용</option> 
                        <option value="writer">작성자</option> 
                    </select>
                    
                    <input type="text">

                    <button class="btn searchBtn" onclick="">
                        검색
                    </button>
                </div>
            </div>

            <div class="board_list">
                <table class="table text-center table-hover" id="board_list_article">
                                    
                    <thead>
                        <!-- 리스트 컬럼 -->
                        <tr>
                            <th scope="col" class="px-2">번호</th>
                            <th scope="col" class="px-2">분류</th>
                            <th scope="col" class="px-2">제목</th>
                            <th scope="col" class="px-2">작성자</th>
                            <th scope="col" class="px-2">조회수</th>
                            <th scope="col" class="px-2">작성일</th>
                        </tr>
                    </thead>
                    <!-- 아래는 th:each 사용하여 리스트 반복출력토록 -->
                    <tbody>
                        <th:block th:each="article : ${articles}">
                            <tr>
                                <td th:text="${article.getId()}"></td>
                                <td th:text="${article.getBoardInfo().getBoardType()}"></td>
                                <td th:text="${article.getArticleTitle()}"></td>
                                <td th:text="${article.getArticleWriter()}"></td>
                                <td th:text="${article.getArticleView()}"></td>
                                <td th:text="${#temporals.format(article.getArticleAt() , 'yy.MM.dd-HH:MM')}"></td>
                            </tr>
                        </th:block>
                    </tbody>
                </table>
            </div>
            
            <!-- 페이징에 대한 것은 공부하고 아래 건들기 -->
            <!-- 
                현재 페이지에는 class로 active 넣어주고 
                한 페이지 뿐이라면 양쪽 꺽쇠는 존재하지 않도록 설정할 것.
            -->


            <div class="board_bottom">
                <ul class="pageing">
                    <th:block th:each="page : ${#numbers.sequence(startPage , endPage)}">

                        <li th:if="${page == noowPage}" th:classappend="${page == nowPage}? 'page_active' : ''">
                            <a th:if="${page == nowPage}" th:text="${page}"></a>
                        </li>

                        <li>
                            <a th:if="${page != nowPage}" th:href="@{/board/list/{id}(page = ${page -1} , id=${id})}" th:text="${page}"></a>
                        </li>

                    </th:block>

<!--                    <li>-->
<!--                        <a href=""><i class="bi bi-caret-left-fill"></i></a>-->
<!--                    </li>-->

<!--                    <li class="page_active">-->
<!--                        <a href="">1</a>-->
<!--                    </li>-->

<!--                    <li>-->
<!--                        <a href="">2</a>-->
<!--                    </li>-->

<!--                    <li>-->
<!--                        <a href=""><i class="bi bi-caret-right-fill"></i></a>-->
<!--                    </li>         -->
                </ul>
                
                <div class="board_write_article">
                    <button class="btn" type="button">글쓰기</button>
                </div>
            </div>
        </div>
    </section>
</section>

        <!-- bootstrap js -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- header js -->
        <script src="/js/header.js"></script>
</body>
</html>